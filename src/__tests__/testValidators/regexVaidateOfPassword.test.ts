/**
 * src\__tests__\testValidators\regexVaidateOfPassword.test.ts
 */
import usernameValidator from '../../pages/validators/validate_password';

describe('regex_validate_of_password', () => {
    const invalidStrings = [
        // Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ðµ (Ð¼ÐµÐ½ÑŒÑˆÐµ 9 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
        '', // Ð¿ÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°
        'a', // 1 ÑÐ¸Ð¼Ð²Ð¾Ð»
        'ab', // 2 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°
        'abc', // 3 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°
        'abcd', // 4 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°
        'abcde', // 5 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'abcdef', // 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'abcdefg', // 7 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'abcdefgh', // 8 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² - Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾!

        // Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ðµ (Ð±Ð¾Ð»ÑŒÑˆÐµ 255 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
        'a'.repeat(254), // 256 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        '1'.repeat(254), // 300 Ñ†Ð¸Ñ„Ñ€
        '_'.repeat(254), // 1000 Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸Ð¹
        '%'.repeat(254), // 256 Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð¾Ð²
        'a1%'.repeat(86), // 258 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² (86*3=258)

        // Ð—Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹
        'abc defgh', // Ð¿Ñ€Ð¾Ð±ÐµÐ»
        'test@mail', // @ ÑÐ¸Ð¼Ð²Ð¾Ð»
        'hello-world', // Ð´ÐµÑ„Ð¸Ñ (Ð½Ðµ Ð¿ÑƒÑ‚Ð°Ñ‚ÑŒ Ñ Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸ÐµÐ¼)
        'user.name', // Ñ‚Ð¾Ñ‡ÐºÐ°
        'price$100', // Ð´Ð¾Ð»Ð»Ð°Ñ€
        'test#tag', // Ñ€ÐµÑˆÐµÑ‚ÐºÐ°
        'path/to/file', // ÑÐ»ÑÑˆ
        'name+surname', // Ð¿Ð»ÑŽÑ
        'value=123', // Ñ€Ð°Ð²Ð½Ð¾
        'tab character', // Ñ‚Ð°Ð±ÑƒÐ»ÑÑ†Ð¸Ñ
        "quote'string", // Ð¾Ð´Ð¸Ð½Ð°Ñ€Ð½Ð°Ñ ÐºÐ°Ð²Ñ‹Ñ‡ÐºÐ°
        'quote"string', // Ð´Ð²Ð¾Ð¹Ð½Ð°Ñ ÐºÐ°Ð²Ñ‹Ñ‡ÐºÐ°
        'unicodeÃ±Ã¡Ã©', // unicode ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹
        'emojiðŸ˜Štest', // ÑÐ¼Ð¾Ð´Ð·Ð¸
        // Ð¡Ð¼ÐµÑˆÐ°Ð½Ð½Ñ‹Ðµ Ð½ÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ñ‹Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¸
        'short', // ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ + Ð±ÐµÐ· Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'a'.repeat(254), // Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ + Ð±ÐµÐ· Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'abc@def', // Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð°Ñ Ð´Ð»Ð¸Ð½Ð° + Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ¸Ð¼Ð²Ð¾Ð»
        'Ð¿Ñ€Ð¸Ð²ÐµÑ‚Ð¼Ð¸Ñ€', // ÐºÐ¸Ñ€Ð¸Ð»Ð»Ð¸Ñ†Ð°
        'ä¸­æ–‡æµ‹è¯•', // ÐºÐ¸Ñ‚Ð°Ð¹ÑÐºÐ¸Ðµ Ð¸ÐµÑ€Ð¾Ð³Ð»Ð¸Ñ„Ñ‹
        'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', // Ð°Ñ€Ð°Ð±ÑÐºÐ¸Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹
        'cafÃ©_au_lait', // ÑÐ¸Ð¼Ð²Ð¾Ð» Ñ Ð´Ð¸Ð°ÐºÑ€Ð¸Ñ‚Ð¸ÐºÐ¾Ð¹
        'password%secure', // Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ
        'percent%percent%but_too_short', // ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ % Ð½Ð¾ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹
        '   spaces   ', // Ð¿Ñ€Ð¾Ð±ÐµÐ»Ñ‹
        'test\\backslash', // Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ð¹ ÑÐ»ÑÑˆ
        '',
        '_________',
        'hello_world%test', // Ð¾Ð±Ñ‹Ñ‡Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°
        'a'.repeat(253), // 255 Ð±ÑƒÐºÐ² 'a'
        '1'.repeat(253), // 255 Ñ†Ð¸Ñ„Ñ€
        '%'.repeat(253), // 255 Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð¾Ð²
        'a'.repeat(254), // Ñ€Ð¾Ð²Ð½Ð¾ 255 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'abc%def%', // Ñ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð°Ð¼Ð¸
    ];
    const validStrings = [
        // ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð»Ð¸Ð½Ð° (9 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
        'abcdefghi', // 9 Ð±ÑƒÐºÐ²
        '123456789', // 9 Ñ†Ð¸Ñ„Ñ€
        'abc123def', // Ð±ÑƒÐºÐ²Ñ‹ Ð¸ Ñ†Ð¸Ñ„Ñ€Ñ‹
        'A%B%C%D%E', // Ð·Ð°Ð³Ð»Ð°Ð²Ð½Ñ‹Ðµ Ð±ÑƒÐºÐ²Ñ‹ + %
        '123%456%7', // 9 Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸Ð¹
        'a%a%a%a%a', // Ñ‡ÐµÑ€ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±ÑƒÐºÐ² Ð¸ %
        'valid_string_123%', // ÑÐ¼ÐµÑˆÐ°Ð½Ð½Ñ‹Ðµ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹
        'user%name%123', // Ñ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð°Ð¼Ð¸
        'a1%b2%c3%d4%e5', // Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½
        'a_b_c_d_e', // Ñ Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸
        'a1%'.repeat(85), // Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½ Ð¸Ð· 3 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² (85*3=255)
        '123456789', // Ñ€Ð¾Ð²Ð½Ð¾ 9 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
        'TEST_STRING_456%', // Ð·Ð°Ð³Ð»Ð°Ð²Ð½Ñ‹Ðµ Ð±ÑƒÐºÐ²Ñ‹
        'w%w%w%w%w%w%w%w%w', // 9 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ñ %
        'valid%test%string%example%123', // Ñ€ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€
        'A_b%1'.repeat(51), // Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½ Ð¸Ð· 5 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² (51*5=255)
    ];

    test.each(invalidStrings)("should invalidate '%s'", async (input) => {
        const result = await usernameValidator(input);
        expect(result).toBe(false);
    });

    test.each(validStrings)("should validate '%s'", async (input) => {
        const result = await usernameValidator(input);
        expect(result).toBe(true);
    });
});
